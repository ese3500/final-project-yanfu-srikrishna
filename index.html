<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <link rel="icon" href="images/favicon.jpg" type="image/gif" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Deep's Dynamo
  </title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <!-- font awesome style -->
  <link href="css/font-awesome.min.css" rel="stylesheet" />
  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />

</head>

<body>

  <!-- header section strats -->
  <header class="header_section">
    <div class="container-fluid">
      <nav class="navbar navbar-expand-lg custom_nav-container">
        <a class="navbar-brand" href="index.html">
          <span>
            Deep's Dynamo
          </span>
        </a>
        <div class="" id="">

<!--
          <div class="custom_menu-btn">
            <button onclick="openNav()">
              <span class="s-1"> </span>
              <span class="s-2"> </span>
              <span class="s-3"> </span>
            </button>
            <div id="myNav" class="overlay">
              <div class="overlay-content">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="shop.html">Shop</a>
                <a href="blog.html">Blog</a>
              </div>
            </div>
          </div>
        -->

        </div>
      </nav>
    </div>
  </header>
  <!-- end header section -->

  <!-- slider section -->
  <section class="slider_section position-relative">
    <div class="slider_bg_box">
      <img src="images/slider-bg.jpg" alt="">
    </div>
    <div class="slider_bg"></div>
    <div class="container">
      <div class="col-md-9 col-lg-8">
        <div class="detail-box">
          <h1 style="color:white">
            Deep's Dynamo
          </h1>
          <p style="color:white;">
            A small car-like robot which is self-driving and can avoid obstacles by mapping its surroundings.
            We envision that a worker can place an object on our robot, which can then be transported from 
            point A to B without the worker having to do it him/herself.
          </p>
          <div>
            <a href="https://www.youtube.com/watch?v=1S5jGHQ7WVk" class="slider-link" target="_b" style="color:white;">
              Video
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- end slider section -->

  <!-- shop section -->
<!--
  <section class="shop_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center">
        <h2>
          Latest Products
        </h2>
      </div>
      <div class="row">
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p1.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Necklace
                </h6>
                <h6>
                  Price
                  <span>
                    $200
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p2.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Necklace
                </h6>
                <h6>
                  Price
                  <span>
                    $300
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p3.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Necklace
                </h6>
                <h6>
                  Price
                  <span>
                    $110
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p4.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Ring
                </h6>
                <h6>
                  Price
                  <span>
                    $45
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p5.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Ring
                </h6>
                <h6>
                  Price
                  <span>
                    $95
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p6.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Earrings
                </h6>
                <h6>
                  Price
                  <span>
                    $70
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p7.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Earrings
                </h6>
                <h6>
                  Price
                  <span>
                    $400
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="box">
            <a href="">
              <div class="img-box">
                <img src="images/p8.png" alt="">
              </div>
              <div class="detail-box">
                <h6>
                  Necklace
                </h6>
                <h6>
                  Price
                  <span>
                    $450
                  </span>
                </h6>
              </div>
              <div class="new">
                <span>
                  New
                </span>
              </div>
            </a>
          </div>
        </div>
      </div>
      <div class="btn-box">
        <a href="">
          View All Products
        </a>
      </div>
    </div>
  </section>
-->
  <!-- end shop section -->

  <!-- about section -->

  <section class="about_section  ">
    <div class="container">
      <div class="row" >
        <div class="col-md-6" style="padding-right: 200px;">
          <div>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/1S5jGHQ7WVk?si=VDn4BcmQW8sm0BKm" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          </div>
        </div>
        <div class="col-md-6">
          <div class="detail-box">
            <div class="heading_container">
              <h2>
                Deep's Dynamo
              </h2>
            </div>
            <p>
              Our final project, Deep's Dynamo, involved an autonomous vehicle that has the ability to avoid obstacles placed in its path. 
              Additionally, the vehicle can be manually overriden/controlled wirelessly through the Blynk app if needed. An ultrasonic 
              sensor mounted on a servo motor was used for obstacle detection, with periodic scans occurring to keep the system updated. 
              An LCD screen with a "radar" displaying the angle of the servo was also included.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end about section -->

  <!-- offer section -->
<!--
  <section class="offer_section layout_padding">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-7 px-0">
          <div class="box offer-box1">
            <img src="images/o1.jpg" alt="">
            <div class="detail-box">
              <h2>
                Upto 15% Off
              </h2>
              <a href="">
                Shop Now
              </a>
            </div>
          </div>
        </div>
        <div class="col-md-5 px-0">
          <div class="box offer-box2">
            <img src="images/o2.jpg" alt="">
            <div class="detail-box">
              <h2>
                Upto 10% Off
              </h2>
              <a href="">
                Shop Now
              </a>
            </div>
          </div>
          <div class="box offer-box3">
            <img src="images/o3.jpg" alt="">
            <div class="detail-box">
              <h2>
                Upto 20% Off
              </h2>
              <a href="">
                Shop Now
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

-->
  <!-- end offer section -->

  <!-- blog section -->

  <section class="blog_section ">
    <div class="container">
      <div class="heading_container">
        <h2 style="padding-top: 100px;">
          Specifications
        </h2>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="box">
            <div class="img-box">
              <img src="images/b1.jpg" alt="">
            </div>
            <div class="detail-box">
              <h5>
                Software Requirement Specification
              </h5>
              <p> <b>
                SRS 01 - Timer 0, an 8-bit timer, shall be used to control the motor in phase correct PWM mode.              </b></p>
              <p>
                This is exactly what we implemented! We set up the registers/pins properly to enable Timer 0, and connected the servo motor's PWM pin to PD5 (the pin associated with Timer 0). Note that for the PWM mode, we chose phase-correct PWM since we should be able to easily vary the duty cycle to control the servo position.              </p>
            <p>
              <b> 
                SRS 02 - Timer 1, a 16-bit timer, shall be used to control the echo pin of the ultrasonic sensor in PWM mode.              </b>
            </p>
            <p> 
              This is exactly what we implemented! We set up the registers/pins properly to enable Timer 1, and connected the ultrasonic sensor's PWM pin to PB0 (the pin associated with Timer 1). Note that for the PWM mode, we chose phase-correct PWM since the signals are symmetric.            </p>
            <p>
              <b>
                SRS 03 - Timer 2, an 8-bit timer, shall be used to control the trigger pin of the ultrasonic sensor in PWM mode.              </b>
            </p>
            <p>
              This is exactly what we implemented! We set up the registers/pins properly to enable Timer 2, and connected the ultrasonic sensor's PWM pin to PD3 (the pin associated with Timer 2). Note that for the PWM mode, we chose phase-correct PWM since the signals are symmetric.            </p>
              <p>
                <b> 
                  SRS 04 - The UART serial communication protocol shall be used to send commands between the two ATMEGA328PBs as well as between the one ATMEGA328PB and the ESP32.                </b>
                <p>
              <p> 
                This is exactly what was done. We utilized the fact that there are two UART ports for each ATMEGA328PB (UART0 and UART1) to make this possible. Thus, the main ATMEGA328PB communicates with the two other boards using the two UART ports.              </p>

              <p>
                <b>
                  SRS 05 - Utilize Timer 1's interrupt to detect the reflected signal via the echo pin and translate the echo signal's time into a distance.                </b>
              </p>
              <p>
                This was successfully accomplished. We often checked pin PD3 using the oscilloscope to ensure that the interrupt was being triggered as expected (and saw that it was).              </p>
              <p>
                <b>
                  SRS 06 - There shall be a wireless IoT based control mechanism allowing for manual control of the vehicle through the Blynk app.                </b>
              </p>
              <p>
                We were able to successfully integrate this. We utilized an ESP32 and UART protocol for wireless communication via the Blynk app, thus allowing for control of the vehicle via the app.              </p>
            
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="box">
            <div class="img-box">
              <img src="images/b2.jpg" alt="">
            </div>
            <div class="detail-box">
              <h5>
                Hardware Requirement Specification
              </h5>
              <p>
                <b> 
                  HRS 01 - Our system shall use two ATMEGA328PBs - One to control the LCD screen and the other to manage all the timers that control the ultrasonic sensor's trigger and echo, as well as the servo that turns the ultrasonic sensor.                </b>
              </p>
              <p>
                This is exactly what we implemented. By dividing the two tasks between two ATMEGA328PBs, we achieved modularity and allowed for much easier testing and debugging. In previous labs, we were informed that performing UART for printing in addition to controlling the LCD screen is hard to achieve using one ATMEGA328PB, which is why we used a second ATMEGA328PB to control the LCD screen which displays the radar. We ended up using the first Atmega328PB to send ultrasonic sensor servo angle information to the second Atmega328PB via UART.              </p>
              <p> 
                <b> 
                  HRS 02 - An ultrasonic sensor shall be used for obstacle detection. It shall detect obstacles at a distance of 12 cm or closer from the front of the vehicle.                </b>  
              </p>
              <p>
                This worked. Based on our repeated testing and measurements, we noticed that whenever an obstacle was indeed 12 cm or closer, the vehicle would properly stop its advance, turn, and avoid the obstacle. This was successfully implemented due to proper mounting of the ultrasonic sensor on top of the servo motor, in addition to setting up the appropriate formula for calculating distance as dictated by the datasheet of the ultrasonic sensor.              </p>
              <p> 
                <b>
                  HRS 03 - The ultrasonic sensor shall be mounted on top of a servo motor. The servo motor should rotate 360 degrees to help enable scanning for obstacles around the vehicle by the ultrasonic sensor.                </b>
              </p>
              <p>
                We were able to partially implement this, in that our servo motor only rotates 180 degrees, but this change was intentional due to the requirements of our project. Firstly, the servo motor that we used can only rotate 270 degrees, not the full 360 degrees. We also realized that based on how we mounted the servo, if we performed a full 360 degree rotation, the servo would face the chassis, registering mistakenly a distance less than 12 cm (thereby "detecting" an obstacle and trying its best to rotate). For this reason, we limited ourselves to a 180 degree rotation.              </p>
              <p> 
                <b>
                  HRS 04 - We shall use an ESP32 for interfacing with the Blynk app, thereby enabling wireless control of the vehicle via phone.                </b>
              </p>
              <p>
                We were able to get this done successfully. We utilized an ESP32 and UART protocol for wireless communication via the Blynk app, thus allowing for control of the vehicle via the app. The Blynk app has 4 buttons to control forward, backward, left, and right movements of the robot.              </p>
              <p>
                <b> 
                  HRS 05 - We shall utilize a 128x160 LCD screen to display a radar indicating the ultrasonic sensor's sweep. The display will interface with the corresponding ATMEGA328PB through the SPI protocol.                </b>
              </p>
              <p>
                We were able to successfully complete this. A second ATMEGA328PB was necessary to utilize printing to the data visualizer in addition to using the LCD screen. The second ATMEGA328PB received servo angle information via UART from the first ATMEGA328PB.
              </p>
              <p>
                <b>
                  HRS 06 - There shall be a power management system in place to avoid powering using a laptop.
                </b>
              </p>
              <p>
                We were able to accomplish this to some extent. We had a power bank that was sufficient for powering the two Atmegas and the ESP32 all at the same time. The halbot had a separate built-in power management system that powered the wheels etc. We did face some issues during the development process in terms of managing the current - evidenced by burning through 2 ATMEGA328PBs and having smoke emit from the first halbot system used. The servo motor was also found to draw significant power, which is why we included an inverter made of power transistors to take in the PWM signal from the ATMEGA328PB and output the signal to the servo motor.
              </p>
            
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end blog section -->

  <!-- client section -->

  <section class="client_section layout_padding">
    <div class="container">
      <div class="heading_container">
        <h2>
          Conclusions and Reflections
        </h2>
      </div>
      <div id="carouselExample2Controls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="row">
              <div class="col-md-11 col-lg-10 mx-auto">
                <div class="box">

                  <div class="img-box">
                    <img src="images/client.jpg" alt="" />
                  </div>

                  <div class="detail-box">
                    <div class="name">
                      <h6>
                        Yanfu Ou
                      </h6>
                    </div>
                  </div>

                  <div class="img-box">
                    <img src="images/client2.jpg" alt="" />
                  </div>

                  <div class="detail-box">
                    <div class="name">
                      <h6>
                        Srikrishna Chakravarthi 
                      </h6>
                    </div>
                    <p>
                      Overall, we feel that our project was a success since we were able to meet the general goal of making an autonomous vehicle that avoids obstacles by monitoring its surroundings. We are proud of what we were able to accomplish in the short time frame and felt that we approached the project design and execution processes in a rational manner. The project was able to be completed using only parts in Detkin, and we made a conscious decision to do so to avoid any potential challenges with delays in part orders. We also were able to adapt and be resourceful to achieve the desired functionality. For example, we decided to use an ultrasonic sensor mounted on a servo motor for obstacle detection since these were widely available in Detkin, and would be easier to implement in the short time frame associated with the project.
                      </p>
                      <p>
                        However, we cannot simply mount this setup on top of the halbot since this means the ultrasonic sensor would be quite high off the ground, meaning many obstacles smaller in height would not be detected properly. As a result, we used a piece of cardboard with a strategically placed hole that extends out from the rest of the chassis as a means to hold the servo/ultrasonic sensor, and this cardboard doubled as a "bumper" to protect the rest of the car in the event of an accidental collision. However, this does not mean that we did not face any challenges during the development process.
                      </p>
                      <p>
                        We first burned through two ATMEGA328PBs during our development process, partly due to an insufficient power management system. For one, we realized that the servo draws too much power which fried the Atmega, causing us to shift towards using an inverter made out of power transistors to take the PWM signal from the Atmega as an input and output the signal to the servo (instead of directly connecting the Atmega and servo). Additionally, on the morning of the demo day, before our assigned time slot, the Halbot platform we used to complete the project began to emit smoke, which forced us to quickly adapt and migrate to a new halbot platform. Luckily, upon rewiring, the project still worked as intended. However, due to the time spent debugging and making the transition onto the new platform, we were forced to refrain from adding certain features we initially wanted to. For example, in our radar, we do not show the position of the detected obstacle on the screen - a feature that we wanted to implement initially. Given the 5-week timeframe to complete the final project, we are happy with the progress made, but there definitely can be some improvements in future iterations.
                      </p>
                      <p>
                        One thing is that there can be an ultrasonic sensor in the rear to sense the presence of obstacles behind the halbot (in the case where the vehicle is moving in reverse). Currently, the setup would fail to detect such obstacles due to the placement of the ultrasonic sensor in the front of the chassis. Another potential extension is to include cameras in addition to/instead of ultrasonic sensors and use computer vision for object detection. This perhaps would lead to greater accuracy but would increase the complexity of the project significantly.
                      </p>
                    <i class="fa fa-quote-left" aria-hidden="true"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

    </div>
  </section>

  <!-- end client section1 -->

    <!-- beginning references section -->

    <section class="client_section layout_padding">
      <div class="container">
        <div class="heading_container">
          <h2>
            references
          </h2>
        </div>
        <div id="carouselExample2Controls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <div class="row">
                <div class="col-md-11 col-lg-10 mx-auto">
                  <div class="box" style="text-align: left;">
                      <p>
                        1 - We used the LCD library from Lab 4: Pong to draw the radar on the LCD screen.  
                      </p>
                      <p>
                        2 - We used the Blynk library from Lab 4 to enable manual control of the motors via the Blynk app using the ESP32.
                      </p>
                      <p>
                        3 - We used the uart.c library file provided in prior labs to enable sending of data from the ATMEGA328PB.
                      </p>
                      <p>
                        We used the HardwareSerial library <a href="https://github.com/espressif/arduino-esp32/blob/master/cores/esp32/HardwareSerial.h" target="_blank"></a>(https://github.com/espressif/arduino-esp32/blob/master/cores/esp32/HardwareSerial.h) to facilitate serial communication between the Atmega328PB and ESP32. This library was not provided in any of the labs, but is an open-source one that we found useful and decided to use. The library provides an interface to communicate with hardware serial ports (RX and TX) on the ESP32 microcontroller. It allows for the sending and receiving of data using the UART communication protocol. The ESP32 itself has 3 hardware serial ports, with the first one (UART0) being reserved for programming the device itself, leaving the other two ports (UART1 and UART2) available for use in a project - exactly what this library enables by defining the pins associated with UART0, UART1, and UART2.
                      </p>
                      <p>
                        The library provides a way of setting up the parameters and configuration for the serial communication, with many options provided in "enum SerialConfig". For example, in our project, we stuck with the commonly used "SERIAL_8N1", meaning whenever data is sent, there will be one start bit, eight data bits, no parity bit, and one stop bit. Furthermore, the baud rate, or the rate at which data is being transmitted, can be specified for each of the hardware serial ports. The library defines many methods for configuring and interacting with the serial ports. "Begin" starts the serial communication process at a certain baud rate; "end" finishes the serial communication process; "write" allows for the sending of data; "read" allows for receiving and decoding the incoming data; "available" checks and returns the number of bytes which are available for reading within the specified serial port etc. In this project, we used UART1 to receive data using the ESP32, and whenever bytes are available for reading, we read the incoming data and print it out using UART0.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
      </div>
    </section>
    <!-- End references seciton-->




  <!--footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>
        Github Code Repository: <a href="https://github.com/ese3500/final-project-yanfu-srikrishna/tree/FinalProjectSubmission" target="_blank"> https://github.com/ese3500/final-project-yanfu-srikrishna/tree/FinalProjectSubmission </a>
      </p>
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="https://html.design/">Free Html Templates</a>
      </p>
    </div>
  </footer>
  <!-- footer section -->


  <!-- jQery -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <!-- bootstrap js -->
  <script src="js/bootstrap.js"></script>
  <!-- custom js -->
  <script src="js/custom.js"></script>

</body>

</html>